(function(a,c,l){"use strict";let r=[];var s={onLoad:function(){try{const e=c.findByStoreName("UserStore");e?.getUser&&r.push(l.instead("getUser",e,function(n,i){const t=i(...n);return t&&(t.avatarDecoration=null,t.avatarDecorationData=null,t.profileEffectId=null,t.nameplateId=null),t}));const o=c.findByStoreName("UserProfileStore");o?.getUserProfile&&r.push(l.instead("getUserProfile",o,function(n,i){const t=i(...n);return t&&(t.profileEffectId=null,t.nameplateId=null),t}));try{e?._changeCallbacks&&e._changeCallbacks.forEach(function(n){try{n()}catch{}}),e?.emitChange&&e.emitChange(),o?.emitChange&&o.emitChange()}catch{console.log("[HideDecorations] Could not force refresh")}try{const n=c.findByProps("dispatch","subscribe");n?.dispatch&&setTimeout(function(){try{n.dispatch({type:"OVERLAY_INITIALIZE",user:e?.getCurrentUser?.()})}catch{}},1e3)}catch{}}catch(e){console.error("[HideDecorations] Error:",e)}},onUnload:function(){r.forEach(function(e){return e()}),r=[]}};return a.default=s,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro,vendetta.patcher);
